# Сервис "Фильмотека"
## Получение списка фильмов
- Метод: GET
- Путь: /films
- Тело запроса (JSON): пустое
- URL параметры: поиск осуществляется по всем параметрам фильма, их можно комбинировать
- Формат ответа: JSON массив с фильмами ИЛИ [ошибка](#Ошибки)

Если не указан ни один URL параметр, то будут возвращены все фильмы из базы данных.

## Получение фильма по ID
- Метод: GET
- Путь: /films/{id}
- Тело запроса (JSON): пустое
- URL параметры: отсутствуют
- Формат ответа: JSON объект (фильм) ИЛИ [ошибка](#Ошибки)

## Добавление фильма
- Метод: POST
- Путь: /films
- Тело запроса (JSON, все поля обязательны): 
    - `title` - название
    - `ageRestriction` - возрастное ограничение
    - `duration` - 
продолжительность фильма
    - `releaseDate` - дата релиза
    - `plot` - сюжет
    - `director` - режиссер
    - `writers` - сценарий
    - `stars` - актеры
    - `genres` - жанры
    - `scores` - оценки
- URL параметры: отсутствуют
- Формат ответа: JSON объект (фильм) ИЛИ [ошибка](#Ошибки)

Пример ответа: 
```json
{
    "_id": "5dfd9db95d923375bc77e124",
    "title": "Ford v Ferrari",
    "ageRestriction": 16,
    "duration": 152,
    "releaseDate": "14 November 2019",
    "plot": "...",
    "director": "James Mangold",
    "writers": [
      "Jez Butterworth",
      "John-Henry Butterworth"
    ],
    "stars": [
      "Matt Damon",
      "Christian Bale",
      "Jon Bernthal"
    ],
    "genres": [
      "Action",
      "Biography",
      "Drama"
    ],
    "scores": {
      "Metascore": 81,
      "IMDb": 8.3
    },
    "createdAt": "2019-12-21T04:21:13.669Z",
    "updatedAt": "2019-12-21T04:21:13.669Z",
    "__v": 0

}
```

## Редактирование фильма
- Метод: PATCH
- Путь: /films/{id}
- Тело запроса (JSON): 
    - `title` - название
    - `ageRestriction` - возрастное ограничение
    - `duration` - 
продолжительность фильма
    - `releaseDate` - дата релиза
    - `plot` - сюжет
    - `director` - режиссер
    - `writers` - сценарий
    - `stars` - актеры
    - `genres` - жанры
    - `scores` - оценки
- URL параметры: отсутствуют
- Формат ответа: JSON объект (фильм) ИЛИ [ошибка](#Ошибки)



## Удаление фильма
- Метод: DELETE
- Путь: /films/{id}
- Тело запроса (JSON): пустое
- URL параметры: отсутствуют
- Формат ответа: JSON объект (message) с информацией об удаленном id
   
  ИЛИ [ошибка](#Ошибки)

Пример ответа: 
```json
{
    "message": "Film with _id:5dfd9dcf5d923375bc77e126 is deleted"
}
```

## Ошибки
Представляют из себя объект с полем:
- `message` - текст ошибки, отправленный сервисом

Например:
```json
{
    "message": "Cast to ObjectId failed for value \"5dfd9dcf5d923375bc77e12\" at path \"_id\" for model \"Film\""
}
```
## Получение списка логов
- Метод: GET
- Путь: /logs
- Тело запроса (JSON): пустое
- URL параметры: поиск осуществляется по всем параметрам, их можно комбинировать
- Формат ответа: JSON массив ИЛИ [ошибка](#Ошибки)

Если не указан ни один URL параметр, то будут возвращены все логи из базы данных.